---
import { getEntry } from "astro:content"
import Section from "./Section.astro"

const personalEntry = await getEntry("personal", "data")
const personal = personalEntry?.data || { name: "Name", title: "Title" };
---

<Section id="hero" class="hero-section">
  <div class="hero-content">
    <div class="text-wrapper">
      <h2 class="greeting">Hi, I'm</h2>
      <h1 class="name">{personal.name}</h1>
      <p class="role">{personal.title}</p>
      <div class="cta-wrapper">
        <a href="#experience" class="cta-button">View My Work</a>
      </div>
    </div>

    <div class="visual-wrapper">
      <div class="bubble bubble-1"></div>
      <div class="bubble bubble-2"></div>
      <div class="bubble bubble-3"></div>
      <div class="bubble-large"></div>
    </div>
  </div>
</Section>

<style lang="scss">
  @use "../styles/mixins" as *;

  .hero-section {
    position: relative;
    min-height: 80vh;
    display: flex;
    align-items: center;
    background-color: var(--color-bg);
  }

  .hero-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-3xl);
    align-items: center;

    @include tablet {
      grid-template-columns: 1.2fr 0.8fr;
    }
  }

  .greeting {
    font-size: var(--font-size-lg);
    color: var(--color-primary);
    font-weight: var(--font-weight-medium);
    margin-bottom: var(--spacing-sm);
  }

  .name {
    font-size: var(--font-size-3xl);
    line-height: var(--line-height-tight);
    margin-bottom: var(--spacing-md);
  }

  .role {
    font-size: var(--font-size-xl);
    color: var(--color-text-muted);
    font-family: var(--font-body);
    margin-bottom: var(--spacing-2xl);
    max-width: 32rem;
  }

  .cta-button {
    display: inline-block;
    padding: var(--spacing-md) var(--spacing-2xl);
    background-color: var(--color-primary);
    color: var(--color-bg);
    text-decoration: none;
    font-weight: var(--font-weight-bold);
    border-radius: 2rem;
    /* stylelint-disable-next-line unit-disallowed-list */
    box-shadow: 0 0.25rem 0.875rem 0 var(--color-shadow);
    transition:
      transform 0.3s ease,
      background-color 0.3s ease;

    &:hover {
      transform: translateY(-0.25rem);
      background-color: var(--color-accent);
    }
  }

  .visual-wrapper {
    position: relative;
    height: 20rem;
    display: flex;
    justify-content: center;
    align-items: center;

    @include tablet {
      height: 30rem;
    }
  }

  .bubble-large {
    width: 15rem;
    height: 15rem;
    border-radius: 50%;
    background-color: var(--color-primary);
    /* stylelint-disable-next-line unit-disallowed-list */
    border: 2px solid var(--color-border);
    animation: float 8s ease-in-out infinite;

    @include tablet {
      width: 20rem;
      height: 20rem;
    }
  }

  .bubble {
    position: absolute;
    border-radius: 50%;
    background-color: var(--color-accent);
    /* stylelint-disable-next-line unit-disallowed-list */
    border: 2px solid var(--color-border);
    opacity: 0.6;
  }

  .bubble-1 {
    width: 4rem;
    height: 4rem;
    top: 10%;
    left: 10%;
    animation: float 6s ease-in-out infinite;
  }

  .bubble-2 {
    width: 6rem;
    height: 6rem;
    bottom: 20%;
    right: 15%;
    animation: float 10s ease-in-out infinite reverse;
  }

  .bubble-3 {
    width: 3rem;
    height: 3rem;
    top: 40%;
    right: 5%;
    animation: float 7s ease-in-out infinite 1s;
  }

  @keyframes float {
    0% {
      transform: translate(0, 0) scale(1);
    }

    33% {
      transform: translate(1.5rem, -1.5rem) scale(1.05);
    }

    66% {
      transform: translate(-1rem, 1.5rem) scale(0.95);
    }

    100% {
      transform: translate(0, 0) scale(1);
    }
  }
</style>
